<header class="header-outer">
  <div class="header">
    <a
      class="logo"
      data-e2e="link-home-header"
      routerLink="/"
      [queryParams]="includeCTZero ? { 'content-tier-zero': true } : {}"
    >
      <span class="icon-wrapper">
        <span class="icon"></span>
      </span>
      <span class="text">
        metis statistics
        <br />dashboard
      </span>
    </a>

    <span
      class="target-menu-wrapper"
      [ngClass]="{ open: menuIsOpen }"
      appClickAware
      (clickOutside)="menuIsOpen = false"
    >
      <span class="active-country" (click)="toggleMenu($event)">
        @if(activeCountry) {
        {{ activeCountry }}
        } @else { Country Pages }
      </span>
      <span
        [ngClass]="{
          default: !ISOCountryCodes[activeCountry]
        }"
        class="flag-orb opener {{ ISOCountryCodes[activeCountry] }}"
        (click)="toggleMenu($event)"
      >
        <span class="target-select">
          <span class="target-select-inner">
            <ng-container *ngFor="let country of countryTotalMap | keyvalue">
              <a
                (click)="toggleMenu($event)"
                [attr.disabled]="
                  country.key === activeCountry ? 'disabled' : null
                "
                [routerLink]="['/country', country.key]"
                class="menu-item"
              >
                <span
                  *ngIf="countryFirstOfLetter[country.key]"
                  class="first-of-letter"
                  >{{ country.key }}</span
                >

                <span
                  class="flag-orb"
                  [ngClass]="ISOCountryCodes[country.key]"
                ></span>

                <span>{{ country.key }}</span>
              </a>
            </ng-container>
          </span>
        </span>
      </span>
    </span>
  </div>

  <div *ngIf="showPageTitle" class="fit-to-page page-title-wrapper">
    <h1 class="page-title" i18n="landing page title@@landingPageTitle">
      Europeana complete dataset
    </h1>
    <app-ct-zero-control *ngIf="form" [form]="form"></app-ct-zero-control>
  </div>
</header>
